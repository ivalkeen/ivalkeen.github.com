<!doctype html>

<html lang="en-us">

<head>
  <title>Ivan Tkalin</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="The HTML5 Herald" />
  <meta name="author" content="Ivan Tkalin" />
  <meta name="generator" content="Hugo 0.41" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/7.0.0/normalize.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab|Roboto+Condensed|Oswald" />
  <link rel="stylesheet" type="text/css" href="/css/styles-v2.css" />
  <link rel="alternate" type="application/atom+xml" title="Ivan Tkalin" href="/index.xml" />
  <link href="/favicon.ico" rel="shortcut icon" type="image/vnd.microsoft.icon" />
</head>

<body>
  <div id="container">
    <header>
      <h1>
        <a href="/">Ivan Tkalin</a>
      </h1>

      <ul id="social-media">
        
        <li><a href="https://twitter.com/ivalkeen"><i class="fa fa-twitter fa-lg" aria-hidden="true"></i></a></li>
         
        <li><a href="https://www.linkedin.com/in/ivan-tkalin-50338110"><i class="fa fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
         
        <li><a href="https://github.com/ivalkeen"><i class="fa fa-github fa-lg" aria-hidden="true"></i></a></li>
           
        <li><a href="https://instagram.com/itkalin.photography"><i class="fa fa-instagram fa-lg" aria-hidden="true"></i></a></li>
        
      </ul>

      
      <p class="tagline">I&rsquo;m a software engineer. I solve problems.</p>
      
    </header>

    
<nav>
    <ul class="main">
        
        <li>
            <a class="" href="/about/">
            <i class="fa-li fa  fa-lg"></i><span>About</span>
            </a>
        </li>
        
        <li>
            <a class="" href="/posts/">
            <i class="fa-li fa  fa-lg"></i><span>Posts</span>
            </a>
        </li>
        
        <li>
            <a class="" href="/tags/">
            <i class="fa-li fa  fa-lg"></i><span>Tags</span>
            </a>
        </li>
        
    </ul>
</nav>


    <main>




<article>

    <h1>Navigating your Rails project codebase  with vim</h1>

    
        <aside>
    <time class="post-date" datetime="2011-12-10T11:00:00Z">Dec 10, 2011</time>
    &nbsp;|&nbsp;
    2 min read
    
    
        &nbsp;|&nbsp;
        
        
        <a href="/tags/vim/">#vim</a>
        
        , 
        <a href="/tags/ruby/">#ruby</a>
        
        , 
        <a href="/tags/guard/">#guard</a>
        
    
</aside>

    

    

<p>When you work with source code, it is always nice to have the abilty to quickly jump to class/method definitions for either your own code or code from one of your ruby gems. This articles describes how to do this in <a href="http://www.vim.org">vim</a> with <a href="http://ctags.sourceforge.net">exuberant ctags</a>, <a href="https://github.com/guard/guard">guard</a>,  and <a href="https://github.com/ivalkeen/guard-ctags-bundler">guard-ctags-bundler</a>.</p>

<h2 id="tags">Tags</h2>

<blockquote>
<p>A tag is an identifier that appears in a &ldquo;tags&rdquo; file.  It is a sort of label
that can be jumped to.  For example: In C programs each function name can be
used as a tag.  The &ldquo;tags&rdquo; file has to be generated by a program like ctags,
before the tag commands can be used.</p>
</blockquote>

<p>We&rsquo;ll need this tags generating software installed on our machine:</p>

<pre><code>$ sudo aptitude install exuberant-ctags
</code></pre>

<p>When we have <code>ctags</code> program installed, we can now generate tags for our project sources and use it in vim. But as soon as we also want to be able to navigate our gems sources, and we want our <code>tags</code> file to be updated automatically, we should do more.</p>

<h2 id="guard-and-guard-ctags-bundler">Guard and guard-ctags-bundler</h2>

<blockquote>
<p>Guard is a command line tool to easily handle events on file system modifications.</p>
</blockquote>

<p>and</p>

<blockquote>
<p>Guard-CTags-Bundler generates ctags for your project and for gems in your bundle. For project tags file tags is generated, for gems tags file gems.tags is generated.</p>
</blockquote>

<h3 id="installation">Installation</h3>

<p>Append 2 gems to your <code>Gemfile</code>:</p>

<pre><code>group :development do
  gem 'guard'
  gem 'guard-ctags-bundler'
end
</code></pre>

<p>Install them with bundler:</p>

<pre><code>$ bundle
</code></pre>

<p>Generate <code>Guardfile</code>:</p>

<pre><code>$ bundle exec guard init guard-ctags-bundler
</code></pre>

<p>Launch guard:</p>

<pre><code>$ bundle exec guard
</code></pre>

<p><strong>Note:</strong> <code>guard</code> should be running in background, it will monitor your filesystem for changes and will tell <code>guard-ctags-bundler</code> to re-generate your project tags or gems&rsquo; tags in case of any changes.</p>

<h2 id="vim">Vim</h2>

<p>Vim works with tags generated by <code>ctags</code> program out of the box, but as soon as we have 2 tag files (one for project tags and one for gems tags), we should tell vim to use both. Add to your .vimrc:</p>

<pre><code>set tags+=gems.tags
</code></pre>

<h2 id="usage">Usage</h2>

<p>Ensure that guard is running:</p>

<pre><code>$ bundle exec guard
</code></pre>

<p>Force regeneration of gems tags (needed only first time, when tags are not generated yet):</p>

<pre><code>$ touch Gemfiles.lock
</code></pre>

<p>Force regeneration of projects tags (needed only first time, when tags are not generated yet):</p>

<pre><code>$ touch app/controllers/application_controller.rb
</code></pre>

<p>Open Vim, move cursor to any class/method, press <code>ctrl-]</code> to jump to first matched tag, or <code>g]</code> to view the list of matched tags and select tag you want to jump to. That&rsquo;s it.</p>

<p><strong>Update</strong>:
Check out my <a href="http://www.tkalin.com/blog_posts/ide-like-go-to-declaration-in-vim/">ctrlp-tjump</a> extension to replace standard tjump/tselect behaviour with something similar to Sublime and RubyMine &lsquo;Go to declaration&rsquo; window.</p>


</article>


<section class="post-nav">
    <ul>
        
        
        <li>
            <a href="https://www.tkalin.com/blog_posts/calling-gnome-kde-default-application-from-nerdtree/">Calling GNOME/KDE default application from NERDTree <i class="fa fa-chevron-circle-right"></i> </a>
        </li>
        
    </ul>
</section>
    
        <section class="comments-block">
  <button id="show-comments" style="display: none;">Show Comments</button>
</section>

<section id="disqus_thread"></section>

<script>
      (function () {
            
            
            if (window.location.hostname == "localhost")
                  return;

            var disqus_loaded = false;
            var disqus_shortname = 'tkalincom';
            var disqus_button = document.getElementById("show-comments");

            disqus_button.style.display = "";
            disqus_button.addEventListener("click", disqus, false);

            function disqus() {

                  if (!disqus_loaded) {
                        disqus_loaded = true;

                        var e = document.createElement("script");
                        e.type = "text/javascript";
                        e.async = true;
                        e.src = "//" + disqus_shortname + ".disqus.com/embed.js";
                        (document.getElementsByTagName("head")[0] ||
                              document.getElementsByTagName("body")[0])
                        .appendChild(e);

                        
                        document.getElementById("show-comments").style.display = "none";
                  }
            }

            
            var hash = window.location.hash.substr(1);
            if (hash.length > 8) {
                  if (hash.substring(0, 8) == "comment-") {
                        disqus();
                  }
            }

            
            if (/bot|google|baidu|bing|msn|duckduckgo|slurp|yandex/i.test(navigator.userAgent)) {
                  disqus();
            }
      })();
</script>

    





</main>
    <footer>
      <p>
        Â© Ivan Tkalin
            
            |
            <a href="index.xml">Subscribe</a>
      </p>
    </footer>
</div>
<script src="/js/scripts.js"></script>
</body>

</html>
