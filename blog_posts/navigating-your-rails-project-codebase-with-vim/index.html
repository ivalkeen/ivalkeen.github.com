<!DOCTYPE html>
<html lang="en">

  <head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width initial-scale=1">

<title>Navigating your Rails project codebase  with vim</title>
<meta name="description" content="Navigating your Rails project codebase  with vim">
<meta name="keywords" content="vim, guard, ctags, bundler, guard-ctags-bundler">

<link rel="stylesheet" href="/css/main.css">
<link rel="canonical" href="https://www.tkalin.com/blog_posts/navigating-your-rails-project-codebase-with-vim/">
<link rel="alternate" type="application/atom+xml" title="Ivan Tkalin" href="https://www.tkalin.com/feed.xml" />
<link href="/assets/favicon.ico" rel="shortcut icon" type="image/vnd.microsoft.icon" />

<!-- <script type="text/javascript">                                                     -->
<!--     var host = "www.tkalin.com";                                                    -->
<!--     if ((host == window.location.host) && (window.location.protocol != "https:")) { -->
<!--       window.location.protocol = "https";                                           -->
<!--     }                                                                               -->
<!-- </script>                                                                           -->

</head>


  <body>
    <nav class="navbar navbar-default navbar-static-top">

  <div class="container">

    <div class="col-sm-12">

      <div class="navbar-header">
        <a class="navbar-brand" href="/">Ivan Tkalin</a>
      </div>

      <div class="collapse navbar-collapse">

        <ul class="nav navbar-nav navbar-left">
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
        </ul>

        <ul class="nav navbar-nav navbar-right">
          <li>
            <form class="navbar-form" action="https://www.google.com/search" method="get">
              <div class="form-group">
                <input type="hidden" name="as_sitesearch" value="www.tkalin.com">
                <input class="form-control" type="text" name="as_q" placeholder="Search">
              </div>
            </form>
          </li>
          <li><a href="/feed.xml"><i class="svg-icon rss"></i></a></li>
        </ul>

      </div>

    </div>

  </div>

</nav>


    <div class="container">
      <div class="col-sm-8">
        <header>
  <h1>Navigating your Rails project codebase  with vim</h1>
  <small class="text-muted">
    <span class="glyphicon glyphicon-calendar"></span>
    <span>Dec 10, 2011</span>
    •
    <span><a href="https://www.tkalin.com/blog_posts/navigating-your-rails-project-codebase-with-vim/#disqus_thread">No Comments</a></span>
  </small>
</header>

<hr/>

<article>
  <p>When you work with source code, it is always nice to have the abilty to quickly jump to class/method definitions for either your own code or code from one of your ruby gems. This articles describes how to do this in <a href="http://www.vim.org">vim</a> with <a href="http://ctags.sourceforge.net">exuberant ctags</a>, <a href="https://github.com/guard/guard">guard</a>,  and <a href="https://github.com/ivalkeen/guard-ctags-bundler">guard-ctags-bundler</a>.</p>

<h2 id="tags">Tags</h2>

<blockquote>
  <p>A tag is an identifier that appears in a “tags” file.  It is a sort of label
that can be jumped to.  For example: In C programs each function name can be
used as a tag.  The “tags” file has to be generated by a program like ctags,
before the tag commands can be used.</p>
</blockquote>

<p>We’ll need this tags generating software installed on our machine:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ sudo aptitude install exuberant-ctags
</code></pre>
</div>

<p>When we have <code class="highlighter-rouge">ctags</code> program installed, we can now generate tags for our project sources and use it in vim. But as soon as we also want to be able to navigate our gems sources, and we want our <code class="highlighter-rouge">tags</code> file to be updated automatically, we should do more.</p>

<h2 id="guard-and-guard-ctags-bundler">Guard and guard-ctags-bundler</h2>

<blockquote>
  <p>Guard is a command line tool to easily handle events on file system modifications.</p>
</blockquote>

<p>and</p>

<blockquote>
  <p>Guard-CTags-Bundler generates ctags for your project and for gems in your bundle. For project tags file tags is generated, for gems tags file gems.tags is generated.</p>
</blockquote>

<h3 id="installation">Installation</h3>

<p>Append 2 gems to your <code class="highlighter-rouge">Gemfile</code>:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>group :development do
  gem 'guard'
  gem 'guard-ctags-bundler'
end
</code></pre>
</div>

<p>Install them with bundler:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ bundle
</code></pre>
</div>

<p>Generate <code class="highlighter-rouge">Guardfile</code>:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ bundle exec guard init guard-ctags-bundler
</code></pre>
</div>

<p>Launch guard:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ bundle exec guard
</code></pre>
</div>

<p><strong>Note:</strong> <code class="highlighter-rouge">guard</code> should be running in background, it will monitor your filesystem for changes and will tell <code class="highlighter-rouge">guard-ctags-bundler</code> to re-generate your project tags or gems’ tags in case of any changes.</p>

<h2 id="vim">Vim</h2>

<p>Vim works with tags generated by <code class="highlighter-rouge">ctags</code> program out of the box, but as soon as we have 2 tag files (one for project tags and one for gems tags), we should tell vim to use both. Add to your .vimrc:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>set tags+=gems.tags
</code></pre>
</div>

<h2 id="usage">Usage</h2>

<p>Ensure that guard is running:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ bundle exec guard
</code></pre>
</div>

<p>Force regeneration of gems tags (needed only first time, when tags are not generated yet):</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ touch Gemfiles.lock
</code></pre>
</div>

<p>Force regeneration of projects tags (needed only first time, when tags are not generated yet):</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ touch app/controllers/application_controller.rb
</code></pre>
</div>

<p>Open Vim, move cursor to any class/method, press <code class="highlighter-rouge">ctrl-]</code> to jump to first matched tag, or <code class="highlighter-rouge">g]</code> to view the list of matched tags and select tag you want to jump to. That’s it.</p>

<p><strong>Update</strong>:
Check out my <a href="http://www.tkalin.com/blog_posts/ide-like-go-to-declaration-in-vim/">ctrlp-tjump</a> extension to replace standard tjump/tselect behaviour with something similar to Sublime and RubyMine ‘Go to declaration’ window.</p>


  
    <a href="/tag/vim">vim</a>
  
    <a href="/tag/ruby">ruby</a>
  
    <a href="/tag/guard">guard</a>
  
</article>

<hr />

<footer>
  <div>
    <!-- share buttons -->
    <a href="https://twitter.com/share" class="twitter-share-button" data-via="ivalkeen">Tweet</a>
    <div class="fb-like" data-layout="button_count" data-action="like" data-show-faces="true" data-share="true"></div>
  </div>
  <hr/>
  <div id="disqus_thread"></div>
</footer>

<!-- twitter init -->
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>


<!-- facebook init -->
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.3&appId=1645955732290194";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>


<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'tkalincom'; // required: replace example with your forum shortname

  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


      </div>
      <div class="col-sm-3 col-sm-offset-1">
        <div class="text-justify">
  <img src="/assets/avatar.jpg" alt="Ivan Tkalin" class="img-circle" />
</div>

<hr />

<p class="text-justify">
  <small>
    I'm <strong>Ivan Tkalin</strong>, a professional software developer, located in <strong>Berlin, Germany</strong>.
  </small>
</p>

<p class="text-justify">
  <small>
    Currently I'm interested in everything related to <strong>Ruby</strong>, <strong>JavaScript</strong>, <strong>PostgreSQL</strong>, <strong>HTML/CSS</strong>, <strong>Linux</strong>, <strong>Git</strong> and <strong>Vim</strong>.
  </small>
</p>

<p class="text-justify">
  <small>
    If you want to contact me, please <a href="mailto:itkalin@gmail.com">send me an email</a>
  </small>
</p>

<p class="text-justify">
  <small>
    Feel free to follow me on <a href="http://twitter.com/ivalkeen">twitter</a> and <a href="http://github.com/ivalkeen">github</a>
  </small>
</p>

<hr />

<ul class='list-inline text-center'>
  <li>
    <a href="https://github.com/ivalkeen"><i class="svg-icon large github"></i></a>
  </li>
  <li>
    <a href="https://stackoverflow.com/users/188975/ivalkeen"><i class="svg-icon large stackoverflow"></i></a>
  </li>
  <li>
    <a href="https://twitter.com/ivalkeen"><i class="svg-icon large twitter"></i></a>
  </li>
  <li>
    <a href="http://de.linkedin.com/pub/ivan-tkalin/10/381/503/"><i class="svg-icon large linkedin"></i></a>
  </li>
</ul>

      </div>
    </div>

    <footer>
  <hr />

  <div class="container">
    <p class="text-center text-muted"><small>(c) Ivan Tkalin</small></p>
  </div>
</footer>


    <script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'tkalincom'; // required: replace example with your forum shortname

  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script>

    <!-- *Google Analytics code*/ -->
<script>
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-33991324-1']);
  _gaq.push(['_setDomainName', 'tkalin.com']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

  </body>
</html>
